<!-- @format -->

{% include 'base2.html' %} {% load static %}
<body>
  <main id="main" class="main">
    <div class="pagetitle">
      <h1>Driver Details</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
          <li class="breadcrumb-item active">Dashboard</li>
        </ol>
      </nav>
    </div>
    <!-- End Page Title -->
    <section class="section">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
          <div class="table-responsive">
            <div class="card-body">
              {% comment %} <h5 class="card-title">Datatables</h5> {% endcomment %}
              {% if messages %}
              <div class="container mt-3">
                {% for message in messages %}
                <div
                  class="alert alert-info {{ message.tags }} alert-dismissible fade show"
                  role="alert"
                >
                  <h5 class="text-center">{{ message }}</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                  ></button>
                </div>
                {% endfor %}
              </div>
              {% endif %}
              <!-- Table with stripped rows -->
              <table class="table datatable">
                <thead>
                  <tr>
                    <th>Sr_No.</th>
                    <th>Driver_Name</th>
                    <th>Father's_Name</th>
                    <th>Aadhar_Number</th>
                    <th>Licence_Number</th>
                    <th>Issue_Date</th>
                    <th>TR Date</th>
                   
                    <th>Aadhar_&_Licence_Image</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  {% for d in showdriver %}
                  <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{d.name}}</td>
                    <td>{{d.fname}}</td>
                    <td>{{d.adharnumber}}</td>
                    <td>{{d.licencenumber}}</td>
                    <td>{{d.issuedates|date:"d/m/Y"}}</td>
                    <td>{{d.trdates|date:"d/m/Y"}}</td>
                  

       
                    <td>
                   {% if d.img %}
                   <img src="{{ d.img.url }}" alt="Image" width="100"><br />
                    <a href="{{ d.img.url }}" download>Download File</a>
                    {% else %}
                     No image available
                   {% endif %}

                    </td>


                    

                    <td>
                      <a href="{% url 'updates-driver' d.id %}" class="text-success mx-2"
                        ><i class="bi bi-pencil-square fs-5"></i
                      ></a>
                      <a
                        href="{% url 'd-driver' d.id %}"
                        class="text-danger"
                        onclick="return confirmDelete()"
                        ><i class="bi bi-trash3-fill fs-5"></i
                      ></a>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
              <!-- End Table with stripped rows -->
            </div>
          </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">
      &copy; Copyright <strong>. All Rights Reserved</strong>
    </div>
    <div class="credits">
      Designed by <a href="#"><strong>J N Roadlines</strong></a>
    </div>
  </footer>
  <!-- End Footer -->

  <a
    href="#"
    class="back-to-top d-flex align-items-center justify-content-center"
    ><i class="bi bi-arrow-up-short"></i
  ></a>
  <script>
    function confirmDelete() {
      var result = confirm("Are you sure you want to delete this data ?");
      if (result) {
        return true;
      } else {
        return false;
      }
    }
  </script>
</body>
