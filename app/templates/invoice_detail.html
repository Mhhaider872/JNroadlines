<!-- invoice_detail.html -->

{% comment %} <h2>Invoice Details</h2>

<h3>Invoice Number: {{ invoice.invoice_number }}</h3>
<p>Customer Name: {{ invoice.customer_name }}</p>
<p>Date: {{ invoice.date }}</p>
<p>Total Amount: ₹{{ invoice.total_amount }}</p>

<h3>Items</h3>
<table border="1">
    <thead>
        <tr>
            <th>Description</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Total Price</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item.description }}</td>
            <td>{{ item.quantity }}</td>
            <td>₹{{ item.unit_price }}</td>
            <td>₹{{ item.total_price }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table> {% endcomment %}
<!-- @format -->

<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
      body {
        font-family: "Roboto", sans-serif;
        background-color: #f1f2f3;
        padding: 0px;
        margin: 0;
        user-select: none;
        font-size:12px;
      }

    
      .header {
        display:flex;
        {% comment %} align-items: center; {% endcomment %}
        justify-content:space-between;
        text-align: center;
        text-decoration:underline;
      }

      .header span {
        margin-right: 50px;
        color: black;
      }

      .header:hover span,
      .header:hover h1 {
        color: grey;
      }

      .invoice {
        /* max-width: 800px; */
        height: auto;
        margin: auto;
        background-color: #fff;

        border: 1px solid black;

      }

      h1 {
        margin: 0;
        color: black;
        cursor: pointer;
        font-size: 24px;
        font-weight: 600;
      }


  

    
      .print-row-btn,
       .btn-print
       button {
        display: inline-block;
        margin-top: 20px;
        float: left;
        padding: 10px 30px;
        position: left;
        margin-right: 5px;
        color: white;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        font-size: 1em;
        transition: background-color 0.3s ease, transform 0.3s ease;
        background:blue;

      }

      /* .print-row-btn:hover {
        background-color: blue;
      } */

      button {
        margin-top: 20px;
        display: block;
      }

      
      .main-head {
        display: flex;
        justify-content: space-between;
      }
      .btn-print {
        display: flex;
        justify-content: center;
      }
      p{
        margin: 5px;
      }
      thead, tbody {
        font-size:12px;
        
        border: 1px solid black;
      }
      .conpany-div p{
        text-decoration: underline;
      }
      .pra-bill{
        float:right;
      }
      body {
        font-family: "Roboto", sans-serif;
        background-color: #f1f2f3;
        padding: 0px;
        margin: 0;
        user-select: none;
        font-size:12px;
      }
      
      .qr-code {
        display: block;
        margin-top: 20px;
        margin-left: auto;
        margin-right: auto;
        width: 80px; /* Adjust size */
      }
    </style>
  </head>

  <body>
<div class="invoice">
      {% comment %} <div class="main-head">
        <div>
         <!-- QR Code Section -->

        </div>
        <div>
          <p><strong>Phone No :</strong> 9833209818</p>
          <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?data=Total%20Amount%3A%20₹{{ invoice.total_amount|floatformat:2 }}" >
        </div>
      </div> {% endcomment %}
      <div class="header py-4">
        <!-- <span class="material-symbols-rounded"> receipt_long </span> -->
        <!-- <h1 id="invoice-type" onclick="toggleInvoiceType()">Report</h1> -->
        <div><p></p></div>
        <div class="text-center">
        <h1>J. N. ROADLINES L.L.P</h1>
        <p>Fleet Owners & Transport Contractors</p>
        <p>
          1402,Orion west, 13th floor, 2nd Gaothan Lane,
          Santacruz Railway Station Road, Opp Bhagwan Cutpiece,<br> Mumbai-400054
        </p>
        <p><strong>GSTIN No :</strong>27AAVFJ3706F1Z5</p>
          <p><strong>PAN No :</strong> AAVFJ3706F</p>
        <p><strong>UDYAM No : </strong>  UDYAM-MH-19-0347131</p>
        <p><strong>FSSAI LICENSE No : </strong> 11521006000010</p>

        </div>
        
        <div>
          <p><strong>Phone No :</strong> 9833209818</p>
          <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?data=https%3A%2F%2Fexample.com%2Finvoices%2F1234.pdf">


        </div>
      </div>

    <div class="main-head">

        <div class="conpany-div">
            <p><strong>To </strong></p>
            <div style="width:300px"><p><strong>{{ invoice.company}}</strong></p></div>
            <p><strong>GSTIN No : </strong> {{ invoice.gst }}</p>
            <p><strong>PAN No : </strong> {{ invoice.pan }}</p>
        </div>
        
        <div>
            
            <p class="pra-bill"><strong>Date : {{ invoice.date|date:"d/m/Y"  }}</strong></p>
            <p class="pra-bill"><strong>Bill No :{{ invoice.invoice_number }}</strong></p>
          <div>
<table class="table table-bordered table-sm">
            <tr>
              <td> <strong>SAC Code : </strong></td>
              <td>  996791 </td>
            </tr>
            <tr>
                <td><p>
                <strong>Description of Services :</strong> 
             </p> </td>
              <td><p>
              Goods Transport Agency<br/> Services For Road
                Transport
             </p> </td>

            </tr>
          </table>
          </div>
        </div>

</div>

     



  <div class="div-table py-0">




  
  <table class="table table-bordered table-sm">
   <thead>
        <tr>
            <th>Sr No.</th>
             <th>Tanker_No.</th>
              <th>Dispatch Date</th>
               <th>From_Address</th>
                <th>To_Address</th>
                 <th>LR No.</th>
                  <th>Tanker Capacity (M.T)</th>
                   <th>Loaded QTY (K.G)</th>
                    <th>Unloaded QTY (K.G)</th>
                     <th>Shortage QTY (K.G) </th>
                      <th>Return QTY (K.G)</th>
                       <th>Rate Per (K.G)</th>
          
            <th>Freight Rs.</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item.description}}</td>
            {% comment %} <td>{{ item.dispatch_d}}</td>
            <td>{{ item.f_add}}</td>
            <td>{{ item.t_add}}</td>
            <td>{{ item.lr_no}}</td>{% endcomment %}
            <td>{{invoice.tanker}}</td>
            <td>{{invoice.date_dis|date:"d/m/Y"}}</td>
            <td>{{invoice.From_add}}</td>
            <td>{{invoice.To_add}}</td>
            <td>{{invoice.lr_no}}</td>
            <td>{{invoice.tanker_cap}}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ invoice.unload }}</td>
            <td>{{ invoice.short }}</td>
            <td>{{ invoice.retn }}</td>
           
            <td><strong>₹{{ item.unit_price }}</strong></td>
  
      
            <td><strong>₹{{ item.total_price }}</strong></td>
        </tr>
        {% endfor %}
        <tr>
         <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
         <td></td>
            <td colspan="3"><strong>Detention Charge :</strong></td>
            
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>


        <tr>
                   <td></td>
                     <td colspan="5">  <strong>( {{invoice.Fo_date|date:"d/m/Y"}}  To {{invoice.To_date|date:"d/m/Y"}} = {{invoice.par_day}} Day)    ( Rs-{{invoice.d_rate}} /- days  *  {{invoice.par_day}} )</strong></td> 
                <td></td>
                 <td></td>
                  <td></td>
                   <td></td>
                    <td></td>
                     <td></td>
               
                   
                    <td><strong>₹{{invoice.total_d}}</strong></td>
                 

                  </tr>
                    <tr>
         <td></td>
            <td colspan="10"></td>
            
       
            <td><strong>SGST:</strong></td>
             <td><strong>₹<span id="sgst">0.00</span></strong></td>

        
        </tr>
         <tr>
         <td></td>
            <td colspan="10"></td>

            <td><strong>CGST:</strong></td>
            <td><strong>₹<span id="cgst">0.00</span></strong></td>
        </tr>
          <tr>
          <td></td> 
          <td colspan="10">
          
            <td ><strong>Rounded Up Rupees:</strong></td> 
       
            <td><strong>₹<span id="total_amount">{{ invoice.total_amount }}</span></strong></td>
        </tr>
    </tbody>
</table>
  </div>
 <div class="row">
        <div class="col-lg-4">
         {% comment %} {% if bill %}
            <p class="pb-4"><strong>Amount -:{{ invoice.total_in_words }}</strong></p>
            {% else %}
            <p>No bill data available.</p>
              
          {% endif %} {% endcomment %}
            <p class="pb-2"><strong>Amount -:{{invoice.total_in_words|upper }} Only</strong></p>
            {% comment %} <p><strong>NOTES -:</strong> "GST on this Invoice is to be paid under Reverse Charge Mechanism by the recipient of the Service."</p>
        
             <p><strong>NOTES -:</strong> "I/We hereby declare that though our aggregate turnover in any preceding financial year 2017-18 onwards is more than the aggregate turnover notified under sub-rule( 4 ) of rule 48, we are not required to prepare an invoice in terms of the provisions of the said sub-rule. "</p> {% endcomment %}
        
        <p><strong>NOTES -:</strong> " We are registered under MSME ".</p>
        </div>
        <div class="col-lg-8">
          <p class="float-end"><strong>FOR : J. N. Roadlines</strong></p>

<br>
<br>
<br>
<br>

           <p class="float-end"><strong>Authorised Signatory</strong></p>
        </div>
      </div>

        
 
      <!-- Your invoice details here -->

     
      
  
<div class="btn-print">
        <button class="print-row-btn" onclick="window.print()">
          <span class="material-symbols-rounded"> print </span>
        </button>
      </div>

{% comment %} <script>
    function calculateTotal() {
        // Get the total price from the invoice (base amount before GST)
        const total_price = parseFloat("{{ invoice.total_amount }}");  // Use the base total price
        
        // GST rates for SGST and CGST (6% each)
        const sgstRate = 0.06;  // 6% SGST
        const cgstRate = 0.06;  // 6% CGST
        
        // Calculate SGST and CGST
        const sgst = total_price * sgstRate;
        const cgst = total_price * cgstRate;
        

        
        // Update the values in the HTML
        document.getElementById("sgst").textContent = sgst.toFixed(2);  // Update SGST value
        document.getElementById("cgst").textContent = cgst.toFixed(2);  // Update CGST value
        document.getElementById("total_amount").textContent = totalWithGST.toFixed(2);  // Update total amount
    }
    
    // Call calculateTotal() on page load
    window.onload = function() {
        calculateTotal();  // Automatically calculate GST and total amount when the page loads
    }
</script> {% endcomment %}

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
